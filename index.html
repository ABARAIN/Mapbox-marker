<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chicago Market Map</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet" />
    <style>
        body {
    display: flex; /* Enable flexbox */
    font-family: Arial, sans-serif;
    margin: 0;
    height: 100vh; /* Ensure the body takes the full viewport height */
}
#map {
    flex-grow: 1; /* Allow the map to grow and fill the available space */
    height: 110vh; /* Full height of the viewport */
}

      #info {
    width: 20%; /* Width for the property list */
    padding: 10px;
    background-color: #f4f4f4;
    overflow-y: auto;
    border-right: 2px solid #ccc;
}
       #details {
    position: absolute; /* or fixed to stick to the right side */
    right: 0; /* Align to the right side */
    width: 20%; /* Reduced width */
    padding: 20px;
    background-color: #f4f4f4;
    border-left: 20px solid #ccc;
    font-size: 14px;
    height: 100vh; /* Optional: set to full height */
}

.basemap-switcher {
            position: absolute;
            top: 12px;
            right: 450px; /* Position it in the top-right corner of the map */
            z-index: 1; /* Ensure it stays above the map */
            background-color: #3498db;
            border-radius: 8px;
            padding: 5px 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 14px;
            cursor: pointer;
        }

        .basemap-switcher select {
            border: none;
            background-color: white;
            color: #3498db;
            padding: 5px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            outline: none;
        }

        .basemap-switcher select:hover {
            background-color: #2980b9;
            color: white;
        }

        .property-box {
            margin-bottom: 10px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            position: relative;
        }
        .property-box:hover {
            background-color: #f9f9f9;
            cursor: pointer;
        }
        
        .property-header {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .property-details {
            font-size: 12px;
            color: #555;
        }
        .property-index {
            font-size: 16px;
            font-weight: bold;
            color: #3498db;
            position: absolute;
            top: 10px;
            right: 10px;
        }
        #details-table {
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding: 20px;
            background-color: #eee;
            border: 2px solid #3498db;
            border-radius: 10px;
        }
        .detail-row {
            font-size: 14px;
            margin-bottom: 10px;
        }
        .detail-row .label {
            font-size: 12px;
            color: #777;
        }
        .detail-row .value {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-top: 5px;
        }
        /* Enhancements for a polished look */
        h2 {
            margin-bottom: 20px;
            color: #3498db;
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }
        .property-box {
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .property-box:hover {
            transform: scale(1.02);
        }

        .highlight {
    background-color: #e0f7fa;
    border: 2px solid #3498db;
}

.dark-mode-switcher {
    position: absolute;
    top: 12px;
    right: 350px; /* Adjust position if needed */
    z-index: 2; /* Make sure it's above the map */
    background-color: #3498db;
    border-radius: 8px;
    padding: 5px 10px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    color: white;
    font-size: 14px;
    cursor: pointer;
}

.dark-mode-switcher button {
    background-color: white;
    color: #3498db;
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    font-size: 14px;
    cursor: pointer;
}

.dark-mode-switcher button:hover {
    background-color: #2980b9;
    color: white;
}


    </style>
</head>
<body>
   
    <div class="basemap-switcher">
        <label for="basemap">Change Basemap:</label>
        <select id="basemap">
            <option value="streets-v11">Streets</option>
            <option value="satellite-streets-v11" selected>Satellite</option>
            <option value="light-v10">Simple (Light)</option>
            <option value="dark-v10">Darker Mode</option>
            
        </select>
    </div>
    <div id="info">
        <h2>Properties</h2>
        <div id="property-list">
            <!-- Property list will be injected here -->
        </div>
    </div>

    <div id="map"></div>

    <div id="details">
        <h2>Property Details</h2>
        <div id="details-table" class="details-table">
            <!-- Details will be displayed here -->
        </div>
    </div>

    <script>
        // Mapbox access token
        mapboxgl.accessToken = 'pk.eyJ1IjoiYmV0dGVyYm92aW5lIiwiYSI6ImNsbzc0OGQwODAxcXoya2w0N2UzdnZjZTAifQ.Rk2qDCKbCMAoZq8MTWxvhw';

        // Initialize the map
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/satellite-streets-v11',
            center: [-88.00, 41.85], // Initial center of the map
            zoom: 9
        });

         // Handle basemap switch
         document.getElementById('basemap').addEventListener('change', function() {
            var style = this.value;
            map.setStyle('mapbox://styles/mapbox/' + style);
        });
// Data from the Excel file
const properties = [
            {
                coordinates: [-88.235, 42.022],
                address: '1451 Sheldon Drive',
                city: 'Elgin',
                state: 'IL',
                zip: '60120',
                buildingSF: '477115',
                landSizeAC: '37.92',
                status: 'Existing',
                price: '54868225',
                clearHeight: '36\'',
                docks: '40',
                driveIns: '4',
                carParking: '372',
                trailerParking: '52',
                availabilityDate: 'Available'
            },
            {
                coordinates: [-88.348, 42.073],
                address: '1700 Madeline Lane',
                city: 'Elgin',
                state: 'IL',
                zip: '60124',
                buildingSF: '320946',
                landSizeAC: '19.00',
                status: 'Existing',
                price: '41402034',
                clearHeight: '36\'',
                docks: '42',
                driveIns: '2',
                carParking: '259',
                trailerParking: '65',
                availabilityDate: 'Available'
            },
            {
                coordinates: [-88.285, 41.869],
                address: '1203-1205 E. Fabyan Parkway',
                city: 'Batavia',
                state: 'IL',
                zip: '60510',
                buildingSF: 'TBD',
                landSizeAC: '24.25',
                status: 'Proposed',
                price: '5809815',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2027'
            },
            {
                coordinates: [-88.285, 41.881],
                address: '537 Discovery Drive - Building 1',
                city: 'West Chicago',
                state: 'IL',
                zip: '60185',
                buildingSF: '219240',
                landSizeAC: '28.34',
                status: 'Proposed',
                price: '6172450',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2026'
            },
            {
                coordinates: [-88.239, 41.878],
                address: '537 Discovery Drive - Building 2',
                city: 'West Chicago',
                state: 'IL',
                zip: '60185',
                buildingSF: '219240',
                landSizeAC: '22.70',
                status: 'Proposed',
                price: '4944060',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2026'
            },
            //from here coordinate
            {
                coordinates: [-88.285372, 42.07562],
                address: '4201 Canterfield Parkway - Lot 8',
                city: 'West Dundee',
                state: 'IL',
                zip: '60118 ',
                buildingSF: ' 209,000 ',
                landSizeAC: '12',
                status: 'Proposed',
                price: ' 5,749,920 ',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2027'
            },
            {
                coordinates: [-88.271992, 42.073442],
                address: '4201 Canterfield Parkway - Lot 3',
                city: 'West Dundee',
                state: 'IL',
                zip: '60118 ',
                buildingSF: '  381,585 ',
                landSizeAC: '21.9',
                status: 'Proposed',
                price: '  10,493,604  ',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2027'
            },
            {
                coordinates: [-88.2194,41.979822],
                address: '1300 Brewster Creek Blvd',
                city: 'Bartlett',
                state: 'IL',
                zip: '60103',
                buildingSF: '   345,848 ',
                landSizeAC: '18.76',
                status: 'Proposed',
                price: '   30,000,000 ',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2026'
            },
            {
                coordinates: [-88.321056, 42.078325],
                address: '14N668 Sleepy Hollow Road',
                city: 'Dundee',
                state: 'IL',
                zip: '60118',
                buildingSF: '    TBD ',
                landSizeAC: '120',
                status: 'Proposed',
                price: '    8,000,000 ',
                clearHeight: 'TBD',
                docks: 'TBD',
                driveIns: 'TBD',
                carParking: 'TBD',
                trailerParking: 'TBD',
                availabilityDate: '2027'
            },
            {
                coordinates: [- 88.307581 , 42.071283],
                address: '1100 Tollgate Road',
                city: 'Elgin',
                state: 'IL',
                zip: '60123',
                buildingSF: '     248,400 ',
                landSizeAC: '13.9',
                status: 'Existing',
                price: '     33,534,000 ',
                clearHeight: '32',
                docks: '74',
                driveIns: '4',
                carParking: '94',
                trailerParking: '128',
                availabilityDate: 'Available'
            },
        ];



        
        // Add property list to the side
        const propertyList = document.getElementById('property-list');

        properties.forEach((property, index) => {
            // Create property box
            const propertyBox = document.createElement('div');
            propertyBox.className = 'property-box';

            propertyBox.innerHTML = `
                <div class="property-header">${property.address}, ${property.city}, ${property.state}</div>
                <div class="property-details">Building SF: ${property.buildingSF}, Land Size: ${property.landSizeAC} AC</div>
                <span class="property-index">${index + 1}</span>
            `;

            propertyList.appendChild(propertyBox);

            // Add marker to the map
            var marker = new mapboxgl.Marker({ scale: 0.75 }) // Set default smaller scale
                .setLngLat(property.coordinates)
                .addTo(map);
                property.marker = marker;

            // Marker click event
            marker.getElement().addEventListener('click', () => {
        // Zoom into the clicked property
        map.flyTo({ center: property.coordinates, zoom: 12 });

        // Display property details in the detail panel
        displayPropertyInfo(property);
        highlightPropertyBox(index);
        properties.forEach(p => {
            p.marker.getElement().style.transform = 'scale(0.75)';
        });

        // Scale up the clicked marker
        marker.getElement().style.transform = 'scale(1.5)';
    });

            // Box click event
            propertyBox.addEventListener('click', () => {
                displayPropertyInfo(property);
                map.flyTo({ center: property.coordinates, zoom: 12 });
                highlightPropertyBox(index);

                // Reset the marker scale for all other markers
                properties.forEach(p => {
                    if (p !== property) {
                        // Find the marker of the other property and reset its scale
                        var otherMarker = new mapboxgl.Marker().setLngLat(p.coordinates).getElement();
                        otherMarker.style.transform = 'scale(0.75)';
                    }
                });
                // Increase clicked marker size
                marker.setScale(2.0);
            });
        });



   // Handle basemap switch
   document.getElementById('basemap').addEventListener('change', function () {
        var style = this.value;

        if (style === 'dark-v10') {
            // When "Darker Mode" is selected, also change the side panels' colors
            document.body.style.backgroundColor = '#222';
            document.getElementById('info').style.backgroundColor = '#333';
            document.getElementById('details').style.backgroundColor = '#333';
        } else {
            // Reset the body and side panels to their default color for other map styles
            document.body.style.backgroundColor = '#fff';
            document.getElementById('info').style.backgroundColor = '#f4f4f4';
            document.getElementById('details').style.backgroundColor = '#f4f4f4';
        }

        // Set the new Mapbox style
        map.setStyle('mapbox://styles/mapbox/' + style);
    });



        // Function to highlight a property box by index
// Function to highlight a property box by index
function highlightPropertyBox(index) {
    const propertyBoxes = document.querySelectorAll('.property-box');
    
    // Remove highlight from all property boxes
    propertyBoxes.forEach(box => {
        box.classList.remove('highlight');
    });

    // Add highlight to the clicked property box
    if (propertyBoxes[index]) {
        propertyBoxes[index].classList.add('highlight');
    }
}

        // Display property info in the details panel
        function displayPropertyInfo(property) {
            const detailsTable = document.getElementById('details-table');
            
            detailsTable.innerHTML = `
                <div class="detail-row">
                    <span class="label">Address:</span>
                    <span class="value">${property.address}, ${property.city}, ${property.state} ${property.zip}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Building SF:</span>
                    <span class="value">${property.buildingSF}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Land Size AC:</span>
                    <span class="value">${property.landSizeAC} AC</span>
                </div>
                <div class="detail-row">
                    <span class="label">Status:</span>
                    <span class="value">${property.status}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Price:</span>
                    <span class="value">$${property.price}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Clear Height:</span>
                    <span class="value">${property.clearHeight}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Docks:</span>
                    <span class="value">${property.docks}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Drive-ins:</span>
                    <span class="value">${property.driveIns}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Car Parking:</span>
                    <span class="value">${property.carParking}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Trailer Parking:</span>
                    <span class="value">${property.trailerParking}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Availability Date:</span>
                    <span class="value">${property.availabilityDate}</span>
                </div>
            `;
        }
        
    </script>
</body>
</html>
